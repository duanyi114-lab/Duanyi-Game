const themeToggle=document.getElementById('theme-toggle');const musicToggle=document.getElementById('music-toggle');const bgm=document.getElementById('bgm');const difficultySelect=document.getElementById('difficulty');if(localStorage.getItem('theme')==='dark'){document.body.classList.add('dark');themeToggle.textContent='☀️ 亮色模式'}let musicOn=false;themeToggle.addEventListener('click',()=>{document.body.classList.toggle('dark');const isDark=document.body.classList.contains('dark');themeToggle.textContent=isDark?'☀️ 亮色模式':'🌙 暗黑模式';localStorage.setItem('theme',isDark?'dark':'light');});musicToggle.addEventListener('click',()=>{if(!musicOn){bgm.play().catch(()=>{});musicToggle.textContent='🔈 关闭音乐'}else{bgm.pause();musicToggle.textContent='🔊 开启音乐'}musicOn=!musicOn;});difficultySelect.addEventListener('change',(e)=>{localStorage.setItem('difficulty',e.target.value);});